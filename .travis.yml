language: ruby
before_install:
  # Travis bundler versions are quite out of date and can cause install errors
  # see: https://github.com/rubygems/rubygems/issues/1419
  - gem update bundler
rvm:
  - '2.2.3'
  - '2.1.6'
  - '2.0.0'
  - '1.9.3'
  - 'jruby'
  - 'rbx'
branches:
  only:
    - master
addons:
  code_climate:
    repo_token: 69a23bee43b8c53271b1a6fbe18b6167de91a06d66ab19908dd52f73158ab71b
matrix:
  allow_failures:
    - rvm: jruby
    - rvm: rbx